# file opened: c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm
  1   0000
  2   0000              ;pos inicial intento: 5849 ; +2, 3veces
  3   0000              ;pos inicial respuesta: 5851 ; +1, 3veces
  4   0000
  5   0000              ;--------------- VALIDAR -------------------------
  6   0000
  7   0000
  8   0000
  9   0000              reset_copia:
 10   0000                      ;COPIAR
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(11): error: Label not found: num_slots
 11   0000 01 00 00             LD BC, num_slots ;num_slots numero cuadrados en cada intento
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(12): error: Label not found: quiz
 12   0003 21 00 00             LD HL, quiz
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(13): error: Label not found: copia
 13   0006 11 00 00             LD DE, copia
 14   0009 ED B0                LDIR ;copio BC n? de slots de HL en DE
 15   000B
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(16): error: Label not found: negros
 16   000B 3A 00 00             LD A,(negros)
 17   000E 5F                   LD E,A
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(18): error: Label not found: intento
 18   000F DD 21 00 00          LD IX, intento ;ix usualmente para leer db
 19   0013                      ;datos de entrada no deber?an tocarse
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(20): error: Label not found: copia
 20   0013 FD 21 00 00          LD IY, copia   ;iy tb
 21   0017
 22   0017
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(23): error: Label not found: num_slots
 23   0017 06 00                LD B, num_slots
 24   0019 0E 04                LD C, 4;para que en la pasada de blancos me haga las 4 pasadas de IX nada m?s (el de copia)
 25   001B
 26   001B              B1:;COINCIDENCIAS EXACTAS
 27   001B DD 7E 00             LD A, (IX);cargo el primer elemento en a
 28   001E FD 56 00             LD D, (IY);cargo el primer elemento en d
 29   0021
 30   0021 BA                   CP D;comparo D con A
 31   0022
 32   0022 20 09                JR NZ, B2; si no coincide salto a B2
 33   0024
 34   0024 1C                   INC E;aumento contador de negros
 35   0025
 36   0025                      ;entra bien aqui solo en elementos coincidentes
 37   0025
 38   0025                      ;al coincidir se cambia pero solo se busca la primera coincidencia no las de despues
 39   0025                      ;creo que asi me va a leer la coincidencia en el bucle anidado a lo mejor poner IX 128 e IY a 255
 40   0025 DD 36 00 80          LD (IX), 128;sustituye por 128,para evitar coindicencias adicionales.
 41   0029 FD 36 00 FF          LD (IY), 255;sustituye por 255,
 42   002D              B2:;PARA PASAR A LA SIGUIENTE
 43   002D DD 23                INC IX;siguiente elemento de la lista
 44   002F FD 23                INC IY;siguiente elemento de la lista
 45   0031
 46   0031
 47   0031 10 E8                DJNZ B1
 48   0033              ; Acabo b1 y reseteo a posicion inicial IX e IY
 49   0033
 50   0033 7B                   LD A, E;Negros,Guardar los aciertos exactos.
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(51): error: Label not found: negros
 51   0034 32 00 00             LD (negros), A;guardo el n? negros
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(52): error: Label not found: negros
 52   0037 3A 00 00             LD A, (negros)
 53   003A
 54   003A
 55   003A                      ;obtengo el n? de negros y lo guardo en e
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(56): error: Label not found: blancos
 56   003A 3A 00 00             LD A,(blancos);blancos son los aciertos no exactos.
 57   003D 5F                   LD E, A;
 58   003E
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(59): error: Label not found: num_slots
 59   003E 06 00                LD B, num_slots;reseteamos b
 60   0040              reset1_IXIY:
 61   0040 DD 2B                DEC IX
 62   0042 FD 2B                DEC IY
 63   0044 10 FA                DJNZ reset1_IXIY
 64   0046
 65   0046              carga_pre_comp:
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(66): error: Label not found: num_slots
 66   0046 06 00                LD B, num_slots
 67   0048
 68   0048              CompBlanco1:;comparo para encontrar blancos
 69   0048
 70   0048                      ;carga en a y d para que siempre tengan los ultimos valores de ix
 71   0048 DD 7E 00             LD A, (IX);cargo el primer elemento en a
 72   004B FD 56 00             LD D, (IY);cargo el primer elemento en d
 73   004E
 74   004E BA                   CP D;comparo D con A
 75   004F
 76   004F 20 09                JR NZ, CompBlanco2 ;si no son iguales salto a
 77   0051
 78   0051 1C                   INC E;registro ? (E es para que compile) que representa los blancos
 79   0052
 80   0052                      ;INC IX      si encuentro coincidencia no puede haber otra con el mismo numero entonces hago salto
 81   0052 DD 36 00 80          LD (IX), 128;sustituye por 128
 82   0056 FD 36 00 FF          LD (IY), 255;sustituye por 128
 83   005A
 84   005A
 85   005A
 86   005A                      ;esto se deberia hacer pero entonces deberia controlar el numero de pasadas que hacer de iy
 87   005A                      ;JR reset2_IY hago el salto porque una vez encontrdo coincidencia
 88   005A
 89   005A              CompBlanco2:;Incremento la posici?n de IY 4 veces por posicion de IX y luego aumento IX 4 veces
 90   005A FD 23                INC IY;incremento 1
 91   005C
 92   005C 10 EA                DJNZ CompBlanco1;cuando he recorrido todo IY paso al siguiente IX
 93   005E DD 23                INC IX
 94   0060
 95   0060
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(96): error: Label not found: num_slots
 96   0060 06 00                LD B, num_slots;reseteamos b
 97   0062              reset2_IY:
 98   0062 FD 2B                DEC IY
 99   0064 10 FC                DJNZ reset2_IY
100   0066                      ;aqui ya tengo la siguiente de la solucion pero para repetir necesito un registro
101   0066
102   0066              ;------------------------- Solucionar
103   0066
104   0066                      ;que registro?
105   0066                      ;DEC registro;aqui disminuyes un registro que guarde numero de slots contador para IX hasta pasar por todo IX
106   0066 0D                   DEC C
107   0067              ;------------------------
108   0067
109   0067 20 DD                JR NZ, carga_pre_comp
110   0069
111   0069                      ;guardo numero de blancos en A para almacenarlo en la variable blancos
112   0069 7B                   LD A, E
c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm(113): error: Label not found: blancos
113   006A 32 00 00             LD (blancos), A
114   006D
115   006D C9                   RET
116   006E
117   006E
# file closed: c:\Users\cpujo\Desktop\Aoc\MasterMind\validacion.asm
