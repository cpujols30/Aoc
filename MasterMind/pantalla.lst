# file opened: c:\Users\cpujo\Desktop\Arquitectura\Aoc\Tarea2-IX\pantalla.asm
 1    0000              pantalla:
 2    0000 3E 00               ld a,$00
 3    0002 D3 FE               out($fe),a ;Ponemos el marco negro
 4    0004 21 28 58            ld hl,$5828 ;posicion 5828 para poner el tablero en el medio
 5    0007 06 0A               ld b,10;bucle exterior
 6    0009 11 28 58             ld de,$5828 ;Uso de variable de como auxiliar para guardar cada linea
 7    000C 62 6B                ld hl,de
 8    000E              bucleext;
 9    000E 0E 0F                ld c,15;control de bucle 1
10    0010 3E 09                ld a,$09 ;color a
11    0012
12    0012              bucle1: ;bucle para hacer lineas horizontales menos la ultima de todas
13    0012
14    0012 77                  ld(hl),a  ;cargo el color en su sitio
15    0013 23                  inc hl; ;incremento para que haga la linea
16    0014 0D                   dec c;decremento c para que no sea bucle infinito(variable del bucle)
17    0015 20 FB               jr nz, bucle1; usamos jr para que tenga como referencia el decremento de c
18    0017 0E 11               ld c,17;
19    0019              buclepr:
20    0019 23                   inc hl;
21    001A 0D                   dec c;
22    001B 20 FC                jr nz,buclepr
23    001D 0E 04                ld c,4 ;declaramos c para el siguiente bucle
24    001F              bucleaux: ;este bucle realizará los slots.
25    001F 3E 09                ld a,$09 ;cargo el color azul en a
26    0021 77                   ld (hl),a ;lo metemos en la posición de hl para que lo pinte
27    0022 23                   inc hl ;incremento hl para meter el siguiente color
28    0023 3E 01                ld a,$01 ;cargo negro en a
29    0025 77                   ld(hl),a ;cargo en la posición de hl para que  lo pinte
30    0026 23                   inc hl ; incremento hl para meter el siguiente color
31    0027 0D                   dec c ; decremento c para que haga 4 veces el bucle
32    0028 20 F5                jr nz,bucleaux ;utilizo jr nz para que coja c como variable
33    002A
34    002A 3E 09                ld a,$09 ;Cargo el color azul otra vez para realizar la evaluación de aciertos
35    002C 77                   ld (hl),a ;Cargo en hl,que será el borde del rectangulo
36    002D 23                   inc hl
37    002E 3E 01                ld a,$01 ;Cargo el color negro y a continuación realizo un bucle donde me pinte los 5 de color negro
38    0030 0E 05                ld c,5
39    0032              bucleaux2:
40    0032 77                   ld (hl),a
41    0033 23                   inc hl
42    0034 0D                   dec c
43    0035 20 FB                jr nz,bucleaux2
44    0037 3E 09                ld a,$09 ;Vuelvo a cargar en azul para realizar el borde
45    0039 77                   ld (hl),a
46    003A 0E 12                ld c,18;
47    003C              buclepr2:
48    003C 23                   inc hl;
49    003D 0D                   dec c;
50    003E 20 FC                jr nz,buclepr2
51    0040 10 CC                djnz bucleext; Finaliza el bucle principal,donde pintará todo menos la ultima linea inferior
52    0042 0E 0F                ld c,15 ;Cargo 15 en c para que me haga la linea 15 pixeles
53    0044              bucleinf: ;hago el bucle para que pinte las 15 lineas
54    0044 77                   ld(hl),a
55    0045 23                   inc hl
56    0046 0D                   dec c
57    0047 20 FB                jr nz,bucleinf ;finaliza el bucle de la linea inferior
58    0049 C9                   RET
# file closed: c:\Users\cpujo\Desktop\Arquitectura\Aoc\Tarea2-IX\pantalla.asm
