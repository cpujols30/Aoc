# file opened: c:\Users\cpujo\Desktop\Aoc\MasterMind\pantalla.asm
 1    0000              pantalla:
 2    0000 3E 00               ld a,$00
 3    0002 D3 FE               out($fe),a ;Ponemos el marco negro
 4    0004 21 28 58            ld hl,$5828 ;posicion 5828 para poner el tablero en el medio
 5    0007 06 0A               ld b,10;bucle exterior
 6    0009 11 28 58             ld de,$5828 ;Uso de variable de como auxiliar para guardar cada linea
 7    000C 62 6B                ld hl,de
 8    000E              bucleext;
 9    000E 0E 0F                ld c,15;control de bucle 1
10    0010 3E 09                ld a,$09 ;color a
11    0012
12    0012              bucle1: ;bucle para hacer lineas horizontales menos la ultima de todas
13    0012
14    0012 77                  ld(hl),a  ;cargo el color en su sitio
15    0013 23                  inc hl; ;incremento para que haga la linea
16    0014 0D                   dec c;decremento c para que no sea bucle infinito(variable del bucle)
17    0015 20 FB               jr nz, bucle1; usamos jr para que tenga como referencia el decremento de c
18    0017 11 14 00             ld de,$14
19    001A 19                   add hl,de
20    001B 0E 04                ld c,4 ;declaramos c para el siguiente bucle
21    001D              bucleaux: ;este bucle realizará los slots.
22    001D 3E 09                ld a,$09 ;cargo el color azul en a
23    001F 77                   ld (hl),a ;lo metemos en la posición de hl para que lo pinte
24    0020 23                   inc hl ;incremento hl para meter el siguiente color
25    0021 3E 01                ld a,$01 ;cargo negro en a
26    0023 77                   ld(hl),a ;cargo en la posición de hl para que  lo pinte
27    0024 23                   inc hl ; incremento hl para meter el siguiente color
28    0025 0D                   dec c ; decremento c para que haga 4 veces el bucle
29    0026 20 F5                jr nz,bucleaux ;utilizo jr nz para que coja c como variable
30    0028
31    0028 3E 09                ld a,$09 ;Cargo el color azul otra vez para realizar la evaluación de aciertos
32    002A 77                   ld (hl),a ;Cargo en hl,que será el borde del rectangulo
33    002B 23                   inc hl
34    002C 3E 01                ld a,$01 ;Cargo el color negro y a continuación realizo un bucle donde me pinte los 5 de color negro
35    002E 0E 05                ld c,5
36    0030              bucleaux2:
37    0030 77                   ld (hl),a
38    0031 23                   inc hl
39    0032 0D                   dec c
40    0033 20 FB                jr nz,bucleaux2
41    0035 3E 09                ld a,$09 ;Vuelvo a cargar en azul para realizar el borde
42    0037 77                   ld (hl),a
43    0038 0E 12                ld c,18;
44    003A              buclepr2:
45    003A 23                   inc hl;
46    003B 0D                   dec c;
47    003C 20 FC                jr nz,buclepr2
48    003E 10 CE                djnz bucleext; Finaliza el bucle principal,donde pintará todo menos la ultima linea inferior
49    0040 0E 0F                ld c,15 ;Cargo 15 en c para que me haga la linea 15 pixeles
50    0042              bucleinf: ;hago el bucle para que pinte las 15 lineas
51    0042 77                   ld(hl),a
52    0043 23                   inc hl
53    0044 0D                   dec c
54    0045 20 FB                jr nz,bucleinf ;finaliza el bucle de la linea inferior
55    0047 C9                   RET
# file closed: c:\Users\cpujo\Desktop\Aoc\MasterMind\pantalla.asm
